console.log("Это написал скрипт из файла sidebar.js"),document.addEventListener("DOMContentLoaded",(function(e){let t=localStorage.getItem("login"),o=localStorage.getItem("firstname");null!=t&&(document.getElementById("wrapper__button").innerHTML=`<div>Привет, ${o}!</div><button id="buttonOut" onclick="outUser()" class="regButton">Выйти</button>`)}));let errors=[];function showReg(e){errors=[],document.getElementById("windowReg").style.display=e,document.getElementById("gray").style.display=e}function showIn(e){document.getElementById("windowIn").style.display=e,document.getElementById("gray2").style.display=e;let t=localStorage.getItem("email"),o=localStorage.getItem("pass");null!=t&&(document.querySelector("#email__in").value=t),null!=t&&(document.querySelector("#pass__in").value=o)}function checkValidity(e){let t=e.validity;return console.log(t.valueMissing),t.valueMissing&&errors.push("Поле "+e.placeholder+" не заполнено"),t.patternMismatch&&errors.push("Не верный формат заполнения e-mail"),errors}function checkPassword(){let e=document.querySelector("#pass1").value,t=document.querySelector("#pass2").value;return console.log(e),null!=e&&(e.length<4&&errors.push("Минимальное значение пароля не может быть меньше, чем 4"),e.length>10&&errors.push("Максимальное значение пароля не может быть больше, чем 10"),-1===e.search(/[a-z]/)&&errors.push("Пароль должен содержать минимум одну прописную букву"),-1===e.search(/[A-Z]/)&&errors.push("Пароль должен содержать минимум одну заглавную букву"),-1===e.search(/[0123456789]/)&&errors.push("Пароль должен содержать минимум одну цифру"),e!=t&&errors.push("Пароль не совпадает!")),errors}function pushReg(){let e=document.querySelectorAll(".inputReg");console.log(e);for(let t of e)checkValidity(t);checkPassword(),0==errors?saveData():(document.getElementById("error").innerHTML=errors.join(".<br>"),errors=[]),document.querySelector("form").addEventListener("submit",(e=>e.preventDefault()))}function saveData(){let e=document.querySelector("#firstname").value,t=document.querySelector("#lastname").value,o=document.querySelector("#email").value,n=document.querySelector("#pass1").value,r=document.querySelector("#pass2").value;console.log(n,r),document.querySelector(".error").innerHTML="",null==localStorage.getItem("firstName")&&localStorage.setItem("firstname",e),null==localStorage.getItem("lastname")&&localStorage.setItem("lastname",t),null==localStorage.getItem("email")&&localStorage.setItem("email",o),null==localStorage.getItem("pass")&&localStorage.setItem("pass",r),localStorage.setItem("login",!0),document.getElementById("windowReg").style.display="none",document.getElementById("gray").style.display="none",document.querySelector("form").addEventListener("submit",(e=>e.preventDefault())),document.getElementById("wrapper__button").innerHTML=`<div>Привет, ${e}!</div><button id="buttonOut" onclick="outUser()" class="regButton">Выйти</button>`}function getIn(){document.querySelector("#inForm").addEventListener("submit",(e=>e.preventDefault())),document.getElementById("windowIn").style.display="none",document.getElementById("gray2").style.display="none",document.getElementById("wrapper__button").innerHTML=`<div>Привет, ${localStorage.getItem("firstname")}!</div><button id="buttonOut" onclick="outUser()" class="regButton">Выйти</button>`,localStorage.setItem("login",!0)}function outUser(){document.getElementById("wrapper__button").innerHTML='<button id="buttonReg" onclick="showReg(\'block\')" class="regButton">Регистрация</button>\n    <button id="buttonIn" onclick="showIn(\'block\')" class="regButton">Войти</button>',localStorage.removeItem("login")}const menuElements=[],templateElements=[];let templateIndCount=0;class DragNDrop{constructor(e,t){this.menuId=e,this.parent=t}}class Element extends DragNDrop{constructor(e,t,o,n){super(e,t),this.type=o,this.classes=n}duplicate(){}showMenu(){}delete(){}saveToLS(){}}const dragAndDrop=()=>{const e=document.querySelectorAll(".menu__element"),t=document.querySelector(".menu"),o=document.querySelector(".target");let n="",r=0,l=0;const a=function(e){setTimeout((()=>{e.target.parentNode===t?n=e.target.cloneNode(!0):e.target.parentNode===o&&(n=e.target),console.log("drag start")}))},s=function(e){console.log("drag end")};function u(e){console.log("get initial mouse pos"),e.target.parentNode===t?(r=e.layerX-e.originalTarget.offsetLeft,l=e.layerY-e.originalTarget.offsetTop):e.target.parentNode===o&&(r=e.layerX,l=e.layerY)}e.forEach((e=>{e.addEventListener("dragstart",a),e.addEventListener("dragend",s),e.addEventListener("mousedown",u)})),o.addEventListener("dragover",(function(e){e.preventDefault(),console.log("drag over")})),o.addEventListener("dragenter",(function(e){e.preventDefault(),console.log("drag enter")})),o.addEventListener("drop",(function(e){console.log("drag drop"),this.append(n),n.classList.add("moved"),n.classList.remove("menu__element"),n.classList.add("template__element"),n.addEventListener("mousedown",u),n.addEventListener("dragstart",a),n.classList.contains("bar")?n.classList.add("wide"):(n.classList.add("draggable-element"),n.style.top=e.layerY-l-1+"px",n.style.left=e.layerX-r-1+"px")}))};dragAndDrop();