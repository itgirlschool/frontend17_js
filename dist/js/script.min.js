console.log("Это написал скрипт из файла sidebar.js");const dragAndDrop=()=>{const e=document.querySelector(".menu"),t=document.querySelector(".template");let o=0;class s{constructor(e,t){this.type=e,this.classes=t}duplicate(){}showMenu(){}delete(){}saveToLS(){let e=[],t=null;localStorage.getItem("template")?(t=JSON.parse(localStorage.getItem("template")),t.length>1?e.push(...t,this):e.push(t,this),localStorage.setItem("template",JSON.stringify(e))):localStorage.setItem("template",JSON.stringify(this))}}class n extends s{constructor(e,t,o,s,n,l){super(e,t),this.width=o,this.height=s,this.posX=n,this.posY=l}changeHeight(){}changeWidth(){}changePosX(){}changePosY(){}}class l extends s{constructor(e,t,s){super(e,t),this.bgColor=s,this.templateInd=o++}setTemplateInd(){}setBackgroundColor(){}}class a extends n{constructor(e,t,o,s,n,l,a,r,c){super(e,t,o,s,n,l),this.bgColor=a,this.btnLabel=r,this.fontColor=c}setBackgroundColor(){}setBtnLabel(){}setFontColor(){}}const r=document.querySelectorAll(".menu__element");let c=!1,d=null,i=0,g=0;const u=function(o){console.log("drag start"),setTimeout((()=>{o.target.parentNode===e?d=o.target.cloneNode(!0):o.target.parentNode===t&&(d=o.target)}))},f=function(e){},p=function(e){c=!1,console.log("from menu"),g=e.offsetY,i=e.offsetX},m=function(e){console.log("from template"),console.log(`e.client: ${e.clientY},${e.clientX}`),console.log(e),console.log("offset E: "+e.offsetY,e.offsetX),console.log("offset: "+e.target.offsetTop,e.target.offsetLeft),c=!0,g=e.offsetY,i=e.offsetX};r.forEach((e=>{e.addEventListener("dragstart",u),e.addEventListener("dragend",f),e.addEventListener("mousedown",p)})),t.addEventListener("dragover",(function(e){e.preventDefault()})),t.addEventListener("dragenter",(function(e){e.preventDefault()})),t.addEventListener("drop",(function(e){e.preventDefault(),console.log("drag drop"),console.log(d),this.append(d),d.classList.remove("menu__element"),d.classList.add("template__element"),d.removeEventListener("mousedown",p),d.addEventListener("mousedown",m),d.addEventListener("dragstart",u),c?(d.style.top=e.clientY-g+"px",d.style.left=e.clientX-i+"px"):function(e,t){const o=t.dataset.type;let s=null;"block"===o?(t.classList.add("wide"),s=new l(o,t.classList,t.style.backgroundColor),s.saveToLS()):(t.classList.add("draggable-element"),t.style.top=e.layerY-g+"px",t.style.left=e.layerX-i+"px","button"===o&&(s=new a(o,t.classList,t.clientWidth,t.clientHeight,t.style.left,t.style.top,t.style.backgroundColor,t.innerHTML,t.style.color),s.saveToLS()))}(e,d)}))};dragAndDrop();